### 일정
목-금: 문제 파악 & db & 코드 구조 설계
토: db나 jwt등 기본세팅
일-월: 기능 만들기
화: 리팩토링

### 아쉬운점
0. 문제가 쉽다고 생각했다!
실제로 아직도 기능적으론 별거 없다고 생각하지만 실 서비스에서 돌리기 위해 신경써야하고 구현해야할 것이 꽤나 많다는 것을 다시 한 번 느꼈습니다.
1. 문서를 보고 만들었으나...
NestJS에서 유일하게 보지 않았던 항목을 이번 기회에 보게 되었습니다: https://docs.nestjs.com/microservices/basics#overview
Exception filters 항목을 아무리 참고해도 RpcException로 보낸 후 gateway에서 에러를 적절히 catch하는 것에 실패하였습니다. <br>
기능을 전부 구현한 후 시작한 에러처리라 더 시간을 못 쓴다고 판단 후 내부에서 RpcException으로 throw하도록 통일해놓은 뒤 밖에선 catch에 실패하여 500을 반환하는 상태로 마무리하게 되었습니다. <br>
실제 서비스에서 쓰인다면 이것만큼은 해내야 한다 생각하여 auth 부분에선 try-catch로 message를 보고 판별하여 어떻게던 처리해내긴 했지만 다른 코드에 모두 try-catch를 두는건 시간적+코드적으로 좋지 않다고 생각하여 중도 마무리하게 되었습니다.
2. class-validation
위 에러로 인해 class-validation에서 나오는 에러를 gateway측에서 확인이 불가능하였습니다.
3. gateway에서의 any타입
dto는 auth와 event 서버에... gateway에서는 똑같은 파일을 둬야하는가? 에 대해 고민하다가 내부에서 에러처리를 하는것으로 결정하여 gateway에서는 any타입으로 받게 되었습니다.
4. reward랑 reward/request를 같이 둬도 될까
단순 구조적 고민입니다... 맥락이 비슷하다고 생각하여 모듈을 나누지 않고 컨트롤러부터 나누었습니다.
5. 최대한 자세하게 설계하고 구현을 시작하였으나 생각보다 다양한 부분에서 다시 고민지점으로 돌아오곤 했습니다.
- 로그인은 아이디로? 이메일로?
- 이벤트의 조건은 어떤 타입으로 만들어야 최대한 커버가 가능할 것인가
- 조건이나 보상에 다한 상세 설명을 db에 저장해야하는가
- 멋진 filter 방법은 무엇일까
- 조건과 필터링은 ts와 aggregate중 무엇이 좋은가
- Date들(start, end, create, update)을 묶을것인가 풀것인가 등등...

일주일임에도 불구하고 원하는만큼 고민하고 만들어내기엔 꽤나 시간이 부족했다는 점...
실력을 더 길러야겠다는 생각이 들었습니다.

정말 오랜만에 해커톤처럼 집중할 수 있었던 재밌는 과제였습니다.
좋은 기회 감사드립니다.
